<script language="JavaScript">

window.addEventListener("keydown", function(e) {
    if(["Space","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.code) > -1) {
        e.preventDefault();
    }
}, false);


    var startTime=new Date();
    var endTime=new Date();
    var startPressed=false;
    var bgChangeStarted=false;
    var maxWait=20;
    var timerID;
    
    function startTest()
    {
     document.body.style.background=document.response.bgColorChange.options[document.response.bgColorChange.selectedIndex].text;
     bgChangeStarted=true;
     startTime=new Date();
    }
    
    function remark(responseTime)
    {
     var responseString="";
     if (responseTime < 0.20)
     responseString="Well done!";
     if (responseTime >= 0.20 && responseTime < 0.30)
     responseString="Nice!";
     if (responseTime >=0.40 && responseTime < 0.50)
     responseString="Could be better...";
     if (responseTime >=0.50 && responseTime < 0.80)
     responseString="Keep practicing!";
     if (responseTime >=0.80 && responseTime < 1.1)
     responseString="Have you been day dreaming again?";
     if (responseTime >=1.1)
     responseString="Did you fall asleep?";
     return responseString;
    }
    
    function stopTest()
    {
     if(bgChangeStarted)
     {
     endTime=new Date();
     var responseTime=(endTime.getTime()-startTime.getTime())/1000;
    
     document.body.style.background="white"; 
     alert("Your response time is: " + responseTime + " seconds " + "\n" + remark(responseTime));
     startPressed=false;
     bgChangeStarted=false;
     }
     else
     {
     if (!startPressed)
     {
     alert("press start first to start test");
     }
     else
     { 
     clearTimeout(timerID);
     startPressed=false; 
     alert("cheater! you pressed too early!");
     } 
     }
    }
    
    var randMULTIPLIER=0x015a4e35;
    var randINCREMENT=1;
    var today=new Date();
    var randSeed=today.getSeconds();
    
    function randNumber()
    {
     randSeed = (randMULTIPLIER * randSeed + randINCREMENT) % (1 << 31);
     return((randSeed >> 15) & 0x7fff) / 32767;
    }
    
    function startit()
    {
     if(startPressed)
     {
     alert("Already started. Press stop to stop");
     return;
     }
     else
     {
     startPressed=true; 
     timerID=setTimeout('startTest()', 6000*randNumber());
     }
    }
    
    </script>
    <p>Test your Response time!</p>
    Click on "Start" first, and wait until the background color changes. As soon as it changes, hit "stop!"
    
    <form name="response">
    Change background color in: 
    <select name="bgColorChange">
    <option selected>deeppink
    <option>aliceblue
    <option>crimson
    <option>darkkhaki
    <option>cadetblue
    <option>darkorchid
    <option>coral
    </select>
    <input type="button" value="start" onClick="startit()">
    <input type="button" value="stop" onClick="stopTest()">
    </form>

<script>
// Pong Game in JavaScript using Canvas

const canvas = document.createElement('canvas');
const ctx = canvas.getContext('2d');

// Set canvas dimensions
canvas.width = 800;
canvas.height = 600;
document.body.appendChild(canvas);

// Game properties
const PADDLE_WIDTH = 10;
const PADDLE_HEIGHT = 100;
const BALL_RADIUS = 10;

let leftPaddleY = (canvas.height - PADDLE_HEIGHT) / 2;
let rightPaddleY = (canvas.height - PADDLE_HEIGHT) / 2;
let ballX = canvas.width / 2;
let ballY = canvas.height / 2;
let ballDX = 4;
let ballDY = 4;

let leftScore = 0;
let rightScore = 0;

// Paddle movement
let leftPaddleDY = 0;
let rightPaddleDY = 0;
const PADDLE_SPEED = 6;

// Event listeners for paddle controls
window.addEventListener('keydown', (e) => {
    if (e.key === 'w') leftPaddleDY = -PADDLE_SPEED;
    if (e.key === 's') leftPaddleDY = PADDLE_SPEED;
    if (e.key === 'ArrowUp') rightPaddleDY = -PADDLE_SPEED;
    if (e.key === 'ArrowDown') rightPaddleDY = PADDLE_SPEED;
});

window.addEventListener('keyup', (e) => {
    if (e.key === 'w' || e.key === 's') leftPaddleDY = 0;
    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') rightPaddleDY = 0;
});

// Game loop
function gameLoop() {
    // Clear the canvas
    ctx.fillStyle = 'black';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Draw paddles
    ctx.fillStyle = 'white';
    ctx.fillRect(10, leftPaddleY, PADDLE_WIDTH, PADDLE_HEIGHT);
    ctx.fillRect(canvas.width - 20, rightPaddleY, PADDLE_WIDTH, PADDLE_HEIGHT);

    // Draw ball
    ctx.beginPath();
    ctx.arc(ballX, ballY, BALL_RADIUS, 0, Math.PI * 2);
    ctx.fillStyle = 'white';
    ctx.fill();
    ctx.closePath();

    // Draw scores
    ctx.font = '48px Arial';
    ctx.fillText(leftScore, canvas.width / 4, 50);
    ctx.fillText(rightScore, (3 * canvas.width) / 4, 50);

    // Move paddles
    leftPaddleY += leftPaddleDY;
    rightPaddleY += rightPaddleDY;

    // Prevent paddles from going out of bounds
    leftPaddleY = Math.max(0, Math.min(canvas.height - PADDLE_HEIGHT, leftPaddleY));
    rightPaddleY = Math.max(0, Math.min(canvas.height - PADDLE_HEIGHT, rightPaddleY));

    // Move ball
    ballX += ballDX;
    ballY += ballDY;

    // Ball collision with top and bottom walls
    if (ballY - BALL_RADIUS <= 0 || ballY + BALL_RADIUS >= canvas.height) {
        ballDY = -ballDY;
    }

    // Ball collision with paddles
    if (
        ballX - BALL_RADIUS <= 20 &&
        ballY >= leftPaddleY &&
        ballY <= leftPaddleY + PADDLE_HEIGHT
    ) {
        ballDX = -ballDX;
    }

    if (
        ballX + BALL_RADIUS >= canvas.width - 20 &&
        ballY >= rightPaddleY &&
        ballY <= rightPaddleY + PADDLE_HEIGHT
    ) {
        ballDX = -ballDX;
    }

    // Ball out of bounds
    if (ballX < 0) {
        rightScore++;
        resetBall();
    }

    if (ballX > canvas.width) {
        leftScore++;
        resetBall();
    }

    requestAnimationFrame(gameLoop);
}

function resetBall() {
    ballX = canvas.width / 2;
    ballY = canvas.height / 2;
    ballDX = -ballDX;
}

// Start the game loop
gameLoop();

</script>